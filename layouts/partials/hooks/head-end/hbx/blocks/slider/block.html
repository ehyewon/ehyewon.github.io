{{ $slides := .block.content.slides }}

<!-- β… Tailwind νΈν™ HugoBlox Custom Slider -->
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

<div class="relative w-full max-w-screen-xl mx-auto mb-10">
  <div class="swiper my-slider rounded-2xl overflow-hidden shadow-xl">
    <div class="swiper-wrapper">
      {{ range $slides }}
      <div class="swiper-slide relative">
        <img src="/images/{{ .background.image.filename }}" alt="{{ .title }}" class="w-full h-[420px] object-cover" />
        <div class="absolute inset-0 bg-black/40 flex flex-col justify-center items-center text-center text-white p-6">
          <h2 class="text-3xl font-bold mb-3 drop-shadow-lg">{{ .title }}</h2>
          <p class="text-lg opacity-90 max-w-2xl">{{ .content }}</p>
          {{ with .link }}
          <a href="{{ .url }}" class="mt-4 inline-flex items-center gap-2 bg-white text-black px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition">
            {{ if .icon }}
            <i class="fa{{ if eq .icon_pack "fab" }}b{{ else }}s{{ end }} fa-{{ .icon }}"></i>
            {{ end }}
            {{ .text }}
          </a>
          {{ end }}
        </div>
      </div>
      {{ end }}
    </div>

    <!-- Controls -->
    <div class="swiper-button-prev !text-white"></div>
    <div class="swiper-button-next !text-white"></div>
  </div>
</div>

<!-- Swiper.js Init -->
<script>
  const swiper = new Swiper('.my-slider', {
    loop: true,
    autoplay: { delay: 4000 },
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    effect: 'slide',
  });
</script>

<!-- Extra styling -->
<style>
  .swiper-button-prev,
  .swiper-button-next {
    width: 50px;
    height: 50px;
    background-color: rgba(0, 0, 0, 0.35);
    border-radius: 9999px;
  }
</style>
